(()=>{var h=Object.defineProperty;var a=(s,t,o)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[t]=o;var r=(s,t,o)=>(a(s,typeof t!="symbol"?t+"":t,o),o);var e="BrowserHistory",n="/self-assessment",l="back-button-link",i=class{constructor(){r(this,"history",[]);this.history=this.getHistory(),this.ifNavigatingBackwardsRemoveUrl(),this.amendBackButton(),this.addUrl()}get lastUrl(){return this.history.length>0?this.history[this.history.length-1]:n}addUrl(){this.history.push(window.location.href),this.saveHistory(),console.log("saved history",this.history)}ifNavigatingBackwardsRemoveUrl(){if(console.log("current history",this.history),this.history.length==0)return!1;let t=this.history.length-2;return t<0?!1:this.history[t]==window.location.href?(console.log("yes",this.history[t],window.location.href,t),this.history=this.history.slice(0,t),console.log("changed history",this.history),this.saveHistory(),!0):(console.log("no",this.history[t],window.location.href),!1)}getHistory(){this.shouldClearHistory()&&this.clearHistory();let t=localStorage.getItem(e);return t?JSON.parse(t):[]}saveHistory(){let t=JSON.stringify(this.history);localStorage.setItem(e,t)}clearHistory(){console.log(" clearing history"),this.history=[],this.saveHistory()}amendBackButton(){let t=document.getElementById(l);t&&(console.log("amending back button",this.history),t.setAttribute("href",this.lastUrl))}shouldClearHistory(){return window.location.pathname=="/"||window.location.pathname==n}};var f=new i;})();
//# sourceMappingURL=app.js.map
