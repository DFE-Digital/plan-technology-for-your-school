@model Dfe.PlanTech.Domain.Questionnaire.Interfaces.ICategory;

<task-list>
    @foreach(var section in Model.Sections)
    {
        var sectionMaturtiy = Model.SectionStatuses.Where(sectionStatus => sectionStatus.SectionId == section.Sys.Id && sectionStatus.Completed == 1)
                                                .Select(sectionStatus => sectionStatus.Maturity)
                                                .FirstOrDefault();

        if (string.IsNullOrEmpty(sectionMaturtiy))
            continue;
        
        var recommendation = section.GetRecommendationForMaturity(sectionMaturtiy);  

        <task-list-item>
            <task-list-item-name>
                <a asp-controller="Pages" asp-action="GetByRoute" asp-route-route="@recommendation?.Page?.Slug" class="govuk-link">
                @recommendation?.DisplayName
                </a>
            </task-list-item-name>
        </task-list-item>
    }

</task-list>
