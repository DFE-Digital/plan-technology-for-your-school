@using Dfe.PlanTech.Domain.Content.Models;
@using Dfe.PlanTech.Domain.Questionnaire.Models;
@using Dfe.PlanTech.Domain.Content.Models.Buttons;
@model Dfe.PlanTech.Domain.Content.Models.Buttons.ButtonWithEntryReference;

@{
    switch (Model.LinkToEntry)
    {
        case Page pageContent:
            {
                var buttonWithLink = new ButtonWithLink()
                        {
                            Button = Model.Button,
                            Href = pageContent.Slug
                        };
                <input type="hidden" name="section" value=@pageContent.Param />
                <button-with-link model=@buttonWithLink />
                break;
            }
        case Question question:
            {
                var sectionSlug = TempData["SectionSlug"] as string;
                //<govuk-button-link href="@sectionSlug/@question.Slug/@question.Sys.Id"
                //   class="govuk-link">@Model.Button.Value</govuk-button-link>
                TempData["questionId"] = question.Sys.Id;
                <govuk-button-link href="@Url.RouteUrl("SectionQuestionAnswer", new { sectionSlug = sectionSlug, question = question.Slug })"
                   class="govuk-link">@Model.Button.Value</govuk-button-link>
                break;
            }
    }
}
