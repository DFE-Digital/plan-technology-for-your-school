@using Dfe.PlanTech.Domain.Content.Models;
@using Dfe.PlanTech.Domain.Questionnaire.Models;
@using Dfe.PlanTech.Domain.Content.Models.Buttons;
@model Dfe.PlanTech.Domain.Content.Models.Buttons.ButtonWithEntryReference;

@{
    switch (Model.LinkToEntry)
    {
        case Page pageContent:
            {
                var buttonWithLink = new ButtonWithLink()
                        {
                            Button = Model.Button,
                            Href = pageContent.Slug
                        };
                <input type="hidden" name="section" value=@pageContent.Param />
                <button-with-link model=@buttonWithLink />
                break;
            }
        case Question question:
            {
                var sectionSlug = TempData["SectionSlug"] as string;
                TempData["questionId"] = question.Sys.Id;
                <govuk-button-link
                    asp-controller="Questions"
                    asp-action="GetQuestionBySlug"
                    asp-route-sectionSlug=@sectionSlug
                    asp-route-questionSlug=@question.Slug
                    class="govuk-link">
                @Model.Button.Value
                   </govuk-button-link>
                break;
            }
    }
}
