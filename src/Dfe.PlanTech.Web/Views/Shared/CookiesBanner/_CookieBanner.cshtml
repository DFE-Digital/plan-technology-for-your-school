@using Microsoft.AspNetCore.Http.Features;
@using Dfe.PlanTech.Domain.Cookie;

@inject Dfe.PlanTech.Domain.Cookie.Interfaces.ICookieService cookieService

@{
  var cookie = cookieService.Cookie;
  var userPreferencesSet = cookie.UserAcceptsCookies;
}

@if(!cookie.IsVisible)
{
  return;
}

<form method="post">
  <div class="govuk-cookie-banner " data-nosnippet role="region" aria-label="Cookies on Plan technology for your school">
    <div class="govuk-cookie-banner__message govuk-width-container">
      @if(!cookie.UserPreferencesSet){
        <partial name="CookiesBanner/_CookieBanner_PreferencesNotSet" model=@cookie/>
      }
      else
      {
        <partial name="CookiesBanner/_CookieBanner_PreferencesSet" model=@cookie/>
      }
    </div>
  </div>
</form>
