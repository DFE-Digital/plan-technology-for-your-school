@model Dfe.PlanTech.Web.Models.CheckAnswersViewModel

@section BeforeContent {
    @{
        await Html.RenderPartialAsync("BackButton");
    }
}

<div class="govuk-grid-row" id="checkYourAnswers-page">
    <div class="govuk-grid-column-two-thirds-from-desktop">
        <h3 class="govuk-body-l">@Model.SectionName</h3>
        @{
            await Html.RenderPartialAsync("Components/PageComponentFactory", Model.Title);
        }
        <dl class="govuk-summary-list govuk-!-margin-bottom-9">
            @foreach (var questionWithAnswer in Model.CheckAnswerDto.QuestionAnswerList)
            {
                var rowModel = new CheckAnswerRowViewModel()
                {
                    SubmissionId = Model.SubmissionId,
                    QuestionWithAnswer = questionWithAnswer
                };

                await Html.RenderPartialAsync("CheckAnswerRow", rowModel);
            }
        </dl>
        <form asp-controller="CheckAnswers" asp-action="ConfirmCheckAnswers" method="post">
            <input type="hidden" name="submissionId" value="@Model.SubmissionId" />
            <input type="hidden" name="sectionName" value="@Model.SectionName">
            @{
                foreach (var content in Model.Content)
                {
                    await Html.RenderPartialAsync("Components/PageComponentFactory", content);
                }
            }
            <govuk-button type="submit">Save and Submit</govuk-button>
        </form>
    </div>
</div>
