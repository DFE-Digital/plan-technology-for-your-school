name: List Directory
description: Get a list of folders from a given input source directory as a JSON array.

inputs:
  source:
    required: true
    type: string

runs:
  using: composite

  steps:
    - name: Get List of Directories
      id: list-dir
      shell: bash
      run: |
        echo "$(pwd)"
        cd ${{ inputs.source }}
        echo "$(pwd)"
        array=($(pwd)/*/)
        echo "${array[@]}"
        echo "$(jq -c -n '$ARGS.positional' --args "${array[@]}")"
