name: Run E2E Tests with Cypress

on:
  pull_request:
    branches: [ "main" ]
    paths-ignore:
        - 'docs/**'
        - 'terraform/**'

jobs:
  run-tests:
    name: Run E2E Tests
    runs-on: ubuntu-22.04
    steps:
      - name: Check out repository
        uses: actions/checkout@v3
        
      - name: Cypress tests
        uses: ./.github/actions/run-e2e-tests
        with:
          url: https://s190d01-plantechcdnendpoint-hph5ghgcevddhfe4.z01.azurefd.net/